import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as a}from"./iframe-bBOc3of9.js";import"./preload-helper-PPVm8Dsz.js";const R=a.createContext(null);function M(){const o=a.useContext(R);if(!o)throw new Error("useDatePicker must be used within a DatePicker");return o}function v({placeholder:o="Select date",...l}){const{open:u,setOpen:d,triggerRef:m,selectedDate:i}=M(),c=i?i.toLocaleDateString():"";return e.jsxs("div",{style:{position:"relative",display:"inline-block",width:l.style?.width||"200px"},children:[e.jsx("input",{...l,type:"text",readOnly:!0,value:c,placeholder:o,onClick:()=>d(!u),"aria-haspopup":"dialog","aria-expanded":u,"data-slot":"datepicker-input",style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",cursor:"pointer",outline:"none",...l.style}}),e.jsx("button",{ref:m,type:"button",onClick:()=>d(!u),"aria-label":"Open calendar","data-slot":"datepicker-icon-button",style:{position:"absolute",right:"-0.5rem",top:"50%",transform:"translateY(-50%)",border:"none",background:"transparent",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280"},children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})}v.__docgenInfo={description:"",methods:[],displayName:"DatePickerTrigger",props:{placeholder:{defaultValue:{value:'"Select date"',computed:!1},required:!1}}};function C({children:o,...l}){const{open:u,panelRef:d,triggerRef:m,selectedDate:i,setSelectedDate:c,setOpen:x}=M(),[f,b]=a.useState(i||new Date);if(!u)return null;const r=f.getFullYear(),n=f.getMonth(),y=new Date(r,n,1).getDay(),p=new Date(r,n+1,0).getDate(),g=t=>{const s=new Date(r,n,t);c(s),x(!1)},E=()=>{b(new Date(r,n-1,1))},O=()=>{b(new Date(r,n+1,1))},P=["January","February","March","April","May","June","July","August","September","October","November","December"];if(o)return e.jsx("div",{...l,style:{...l.style,position:"absolute"},ref:d,role:"dialog","aria-modal":"false","aria-labelledby":m.current?.id,tabIndex:-1,"data-slot":"datepicker-panel",children:o});const _=Array.from({length:p},(t,s)=>s+1),z=Array.from({length:y},(t,s)=>s),S=new Date,I=t=>S.getDate()===t&&S.getMonth()===n&&S.getFullYear()===r;return e.jsxs("div",{...l,style:{position:"absolute",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"1rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",minWidth:"280px",zIndex:50,...l.style},ref:d,role:"dialog","aria-modal":"false","aria-labelledby":m.current?.id,tabIndex:-1,"data-slot":"datepicker-panel",children:[e.jsxs("div",{"data-slot":"calendar-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[e.jsx("button",{onClick:E,type:"button","aria-label":"Previous month",style:{padding:"0.25rem 0.5rem",border:"none",background:"transparent",cursor:"pointer",fontSize:"1.25rem",color:"#6b7280",borderRadius:"4px"},onMouseOver:t=>t.currentTarget.style.background="#f3f4f6",onMouseOut:t=>t.currentTarget.style.background="transparent",children:"←"}),e.jsxs("span",{style:{fontWeight:600,fontSize:"0.875rem",color:"#111827"},children:[P[n]," ",r]}),e.jsx("button",{onClick:O,type:"button","aria-label":"Next month",style:{padding:"0.25rem 0.5rem",border:"none",background:"transparent",cursor:"pointer",fontSize:"1.25rem",color:"#6b7280",borderRadius:"4px"},onMouseOver:t=>t.currentTarget.style.background="#f3f4f6",onMouseOut:t=>t.currentTarget.style.background="transparent",children:"→"})]}),e.jsxs("div",{"data-slot":"calendar-grid",children:[e.jsx("div",{"data-slot":"weekday-labels",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.25rem",marginBottom:"0.5rem"},children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(t=>e.jsx("span",{style:{textAlign:"center",fontSize:"0.75rem",fontWeight:600,color:"#6b7280",padding:"0.25rem"},children:t},t))}),e.jsxs("div",{"data-slot":"calendar-days",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.125rem"},children:[z.map(t=>e.jsx("span",{style:{padding:"0.5rem"}},`empty-${t}`)),_.map(t=>{const s=i&&i.getDate()===t&&i.getMonth()===n&&i.getFullYear()===r,T=I(t);return e.jsx("button",{type:"button",onClick:()=>g(t),"data-selected":s,"aria-label":`${P[n]} ${t}, ${r}`,style:{padding:"0.5rem",border:"none",background:s?"#3b82f6":"transparent",color:s?"white":T?"#3b82f6":"#111827",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:T?600:400,transition:"all 0.15s"},onMouseOver:j=>{s||(j.currentTarget.style.background="#f3f4f6")},onMouseOut:j=>{s||(j.currentTarget.style.background="transparent")},children:t},t)})]})]})]})}C.__docgenInfo={description:"",methods:[],displayName:"DatePickerPanel"};function h({children:o,placeholder:l,defaultDate:u=null,onDateChange:d,width:m,custom:i}){const[c,x]=a.useState(!1),[f,b]=a.useState(u),r=a.useRef(null),n=a.useRef(null),y=a.useRef(d);return a.useEffect(()=>{y.current=d},[d]),a.useEffect(()=>{if(!c)return;const p=g=>{n.current&&!n.current.contains(g.target)&&r.current&&!r.current.contains(g.target)&&x(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[c]),a.useEffect(()=>{if(!c)return;const p=g=>{g.key==="Escape"&&x(!1)};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[c]),a.useEffect(()=>{y.current&&y.current(f)},[f]),e.jsx(R.Provider,{value:{open:c,setOpen:x,selectedDate:f,setSelectedDate:b,triggerRef:r,panelRef:n},children:i?o:e.jsxs(e.Fragment,{children:[e.jsx(v,{placeholder:l,style:{width:m||"200px"}}),e.jsx(C,{})]})})}h.__docgenInfo={description:"",methods:[],displayName:"DatePicker",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},defaultDate:{required:!1,tsType:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},onDateChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date | null) => void",signature:{arguments:[{type:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},name:"date"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"string"},description:""},custom:{required:!1,tsType:{name:"boolean"},description:""}}};const L={title:"Components/DatePicker",component:h,parameters:{layout:"centered"}},D={render:()=>e.jsx(h,{placeholder:"Select a date"})},k={render:()=>e.jsx(h,{placeholder:"Select a date",defaultDate:new Date})},w={render:()=>e.jsxs(h,{custom:!0,onDateChange:o=>console.log("Selected:",o),children:[e.jsx(v,{placeholder:"Select a date",style:{width:"250px",padding:"0.5rem",border:"1px solid #93c5fd",borderRadius:"6px",fontSize:"14px",backgroundColor:"#ffffff",cursor:"pointer",transition:"all 0.2s ease",outline:"none",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),e.jsx(C,{})]})};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  render: () => <DatePicker placeholder="Select a date" />
}`,...D.parameters?.docs?.source}}};k.parameters={...k.parameters,docs:{...k.parameters?.docs,source:{originalSource:`{
  render: () => <DatePicker placeholder="Select a date" defaultDate={new Date()} />
}`,...k.parameters?.docs?.source}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  render: () => <DatePicker custom onDateChange={date => console.log("Selected:", date)}>
            <DatePickerTrigger placeholder="Select a date" style={{
      width: "250px",
      padding: "0.5rem",
      border: "1px solid #93c5fd",
      borderRadius: "6px",
      fontSize: "14px",
      backgroundColor: "#ffffff",
      cursor: "pointer",
      transition: "all 0.2s ease",
      outline: "none",
      boxShadow: "0 1px 2px 0 rgba(0, 0, 0, 0.05)"
    }} />
            <DatePickerPanel />
        </DatePicker>
}`,...w.parameters?.docs?.source}}};const F=["Default","WithDefaultDate","CustomStyled"];export{w as CustomStyled,D as Default,k as WithDefaultDate,F as __namedExportsOrder,L as default};
